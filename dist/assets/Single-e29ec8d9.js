import{r as h,o as i,c as l,h as t,u as o,q as g,t as c,s as f,n as _,a as u,g as y,x as $,F as w,m as k,f as b,w as D,i as x,d as S,b as R,y as F,z as A,j as m,A as B}from"./index-1f52a39e.js";const C={key:0,class:"single__wrapper"},N=["src"],V={class:"single__content"},j={class:"single__left"},I={class:"single__title"},T={class:"single__desc"},L={class:"single__about"},U={key:0,class:"single__time"},Y={class:"single__right"},q=["src"],z={class:"single__block"},E=t("h3",{class:"single__subtitle"},"В главных ролях",-1),H={class:"single__actors"},M={__name:"SingleContent",props:["type","current"],setup(e){return(n,s)=>{const r=h("Trailer"),a=h("Actors");return e.current?(i(),l("div",C,[t("img",{src:o(g)+e.current.backdrop_path,alt:"",class:"single__bg"},null,8,N),t("div",V,[t("div",j,[t("h1",I,c(e.current.title||e.current.name),1),t("p",T,c(e.current.overview),1),t("p",L,[f(c(new Date(e.current.release_date).getFullYear()||new Date(e.current.first_air_date).getFullYear())+", "+c(e.current.genres.map(d=>d.name).join(", "))+" ",1),e.current.runtime?(i(),l("span",U,c(new Date(0,0,0,0,e.current.runtime).getHours())+"h "+c(new Date(0,0,0,0,e.current.runtime).getMinutes())+"m ",1)):_("",!0)]),u(r)]),t("div",Y,[t("img",{src:o(g)+e.current.poster_path,alt:"",class:"single__img"},null,8,q)]),t("div",z,[E,t("div",H,[u(a,{type:e.type,id:e.current.id,count:6},null,8,["type","id"])])])])])):_("",!0)}}},G={key:0,class:"additional container"},J={class:"additional__item"},K=t("h4",null,"Бюджет",-1),O={class:"additional__item"},P=t("h4",null,"Сборы",-1),Q={class:"additional__item"},W=t("h4",null,"Статус",-1),X={class:"additional__item"},Z=t("h4",null,"Исходное название",-1),ee={__name:"Additional",props:["current"],setup(e){return(n,s)=>e.current?(i(),l("div",G,[y(t("div",J,[K,t("p",null,"$"+c(e.current.budget),1)],512),[[$,e.current.budget]]),y(t("div",O,[P,t("p",null,"$"+c(e.current.revenue),1)],512),[[$,e.current.revenue]]),t("div",Q,[W,t("p",null,c(e.current.status),1)]),t("div",X,[Z,t("p",null,c(e.current.original_title||e.current.original_name),1)])])):_("",!0)}},te={key:0,class:"recommend container"},ne={class:"recommend__title"},se={class:"recommend__content"},ce=["src"],re={__name:"Recommend",props:["type","recommend"],setup(e){return(n,s)=>{const r=h("router-link");return e.recommend?(i(),l("div",te,[t("h2",ne,c(e.recommend.length>0?"Рекомендации":"Рекомендаций нет"),1),t("div",se,[(i(!0),l(w,null,k(e.recommend,a=>(i(),b(r,{key:a.id,to:`/${e.type}/${a.id}`,class:"recommend__card"},{default:D(()=>[t("img",{src:o(x)+a.poster_path,alt:"",class:"recommend__img"},null,8,ce)]),_:2},1032,["to"]))),128))])])):_("",!0)}}},ae=S("recommend",{state:()=>({info:null}),actions:{async getRecommend(e,n){try{const r=await(await fetch(`https://api.themoviedb.org/3/${n}/${e}/recommendations?language=ru&page=1`,R)).json();this.info=r.results}catch(s){console.log(s)}}}}),ie={class:"single"},ue={__name:"Single",props:{type:String},setup(e){const n=e,s=F();let r=A();r.getDetails(s.params.id,n.type);let a=m(()=>r.info),d=ae();d.getRecommend(s.params.id,n.type);let v=m(()=>d.info),p=m(()=>s.params.id);return B(p,()=>{r.getDetails(s.params.id,n.type),d.getRecommend(s.params.id,n.type)}),(oe,le)=>(i(),l("div",ie,[u(M,{type:n.type,current:o(a)},null,8,["type","current"]),u(ee,{current:o(a)},null,8,["current"]),u(re,{type:n.type,recommend:o(v)},null,8,["type","recommend"])]))}};export{ue as _};
