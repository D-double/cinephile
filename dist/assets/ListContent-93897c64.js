import{r as g,e as f,o as a,f as d,w,g as L,h as s,u as p,i as k,t as v,p as C,l,j as $,c,F as m,m as x,n as B}from"./index-fea261e6.js";const P={alt:"",class:"list-content__img"},S={class:"list-content__name"},D={__name:"ListItem",props:{type:String,item:Object},setup(t){return(i,e)=>{const o=g("router-link"),n=f("lazy");return a(),d(o,{to:`/${t.type}/${t.item.id}`,class:"list-content__item"},{default:w(()=>[L(s("img",P,null,512),[[n,p(k)+t.item.poster_path]]),s("h2",S,v(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},b={class:"container"},j={class:"list-content"},z={class:"list-content__title"},E={class:"list-content__wrapper"},F={key:0,class:"loading"},H=s("div",{class:"loading__spiner"},null,-1),N=[H],O={__name:"ListContent",props:{type:String},setup(t){const i=t;let e=C();const o=l(1),n=l(!1);e.getPopular(i.type,o.value),$(()=>i.type=="movie"?e.moviesList:e.tvsList);let r=l([]);async function u(){if(!n.value){n.value=!0,await e.getPopular(i.type,o.value);let _=i.type=="movie"?e.moviesList:e.tvsList;r.value.push(..._),n.value=!1,o.value++}}return u(),window.addEventListener("scroll",()=>{document.body.clientHeight<=window.scrollY+window.innerHeight&&u()}),(_,V)=>(a(),c(m,null,[s("div",b,[s("div",j,[s("h2",z,v(t.type=="movie"?"Все фильмы":"Все сериалы"),1),s("div",E,[(a(!0),c(m,null,x(p(r),(h,y)=>(a(),d(D,{key:y,item:h,type:t.type},null,8,["item","type"]))),128))])])]),n.value?(a(),c("div",F,N)):B("",!0)],64))}};export{O as _};
