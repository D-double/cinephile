import{r as f,e as w,o as a,f as d,w as L,g as k,h as s,u as p,i as C,t as v,p as x,l,j as B,c,F as m,m as P,n as S}from"./index-e4c7eea8.js";const D={alt:"",class:"list-content__img"},$={class:"list-content__name"},b={__name:"ListItem",props:{type:String,item:Object},setup(t){return(o,e)=>{const i=f("router-link"),n=w("lazy");return a(),d(i,{to:"",class:"list-content__item"},{default:L(()=>[k(s("img",D,null,512),[[n,p(C)+t.item.poster_path]]),s("h2",$,v(t.item.title||t.item.name),1)]),_:1})}}},j={class:"container"},z={class:"list-content"},E={class:"list-content__title"},F={class:"list-content__wrapper"},H={key:0,class:"loading"},N=s("div",{class:"loading__spiner"},null,-1),V=[N],U={__name:"ListContent",props:{type:String},setup(t){const o=t;let e=x();const i=l(1),n=l(!1);e.getPopular(o.type,i.value);const h=B(()=>o.type=="movie"?e.moviesList:e.tvsList);console.log(h);let r=l([]);async function _(){if(!n.value){n.value=!0,await e.getPopular(o.type,i.value);let u=o.type=="movie"?e.moviesList:e.tvsList;r.value.push(...u),n.value=!1,i.value++}}return _(),window.addEventListener("scroll",()=>{document.body.clientHeight<=window.scrollY+window.innerHeight&&_()}),(u,I)=>(a(),c(m,null,[s("div",j,[s("div",z,[s("h2",E,v(t.type=="movie"?"Все фильмы":"Все сериалы"),1),s("div",F,[(a(!0),c(m,null,P(p(r),(g,y)=>(a(),d(b,{key:y,item:g,type:t.type},null,8,["item","type"]))),128))])])]),n.value?(a(),c("div",H,V)):S("",!0)],64))}};export{U as _};
